<section id="page-booking">
  <app-booking-header *ngIf="!isNewBooking()" [bookingState]="bookingModel.state" [showButtons]='false' [bookingModel]='bookingModel' [oldBookingModel]='oldBookingModel'></app-booking-header>
  <h1>{{bookingHeading}}</h1>

  <main>
  <section>
    <span>Fields with * are required</span>
  </section>
    <div class="common-form">
      <div style="float:right;">
        <section class="file-uploader bulk-upload">
          <button md-button>
            <b>Batch Upload</b>
            <!-- span>or drag &amp; drop them here</span -->
            <input type="file" ng2FileSelect (change)="handleBulkUploadSelect($event)" [uploader]="uploader"
                   name="bulk-uploader"/>
          </button>
          <!-- section ng2FileDrop
                   [ngClass]="{
                   'nv-file-over': hasBaseDropZoneOver,
                   'well my-drop-zone' : !hasBaseDropZoneOver
                   }"
                   (onFileDrop)="handleFileSelect($event)"
                   (fileOver)="fileOverBase($event)"
                   [uploader]="uploader">
              <span></span>
          </section -->
        </section>
      </div>
    </div>
  <form #booking_form="ngForm" class="common-form compact">
    <div class="row" *ngIf="isUserAdminORBookOfficer">
      <h2>CUSTOMER</h2>
      <div class="medium-12 columns">
        <div class="form-field">
          <label>ARE YOU MAKING A BOOKING FOR AN INDIVIDUAL CLIENT OR ORGANIZATION?*</label>
          <md-radio-group name="rdBookingFor" (change)='onBookingForChange()' [(ngModel)]="bookingModel.bookable_type" [disabled]="isDisabledForAdmin">
            <md-radio-button id ="IndividualClient" name ="IndividualClient" value="IndividualClient">CLIENT</md-radio-button>
            <md-radio-button id="OrganisationalRepresentative" name="OrganisationalRepresentative" value="OrganisationalRepresentative">ORGANISATION</md-radio-button>
          </md-radio-group>
        </div>
      </div> 
    </div>

    <div class="row" *ngIf="isUserAdminORBookOfficer">
      <div class="medium-6 columns">
        <div class="form-field">
          <label>PLEASE SELECT THE {{bookingModel.bookable_type ==='IndividualClient' ? "CLIENT":"ORGANIZATION"}}*
            <span mdTooltip="Select the Client/Org"><i class="inline-icon-tip"></i></span>
          </label>
          <select [(ngModel)]="bookingModel.bookable_id" (change)='onBookingForSelectionChange()'
                  #booking_for="ngModel" name="booking_for" [disabled]="isDisabledForAdmin"
                  aria-label="A" required>
            <option *ngFor="let item of bookingForItems" [value]="item.id">
            {{ getOrgName(item) }}
            </option>
          </select>
            <span *ngIf="booking_for.touched && !booking_for.errors?.required;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="booking_for.touched && (booking_for.errors?.required);"
                  class="inline-icon error">!
            </span>
        </div>
      </div>
    </div>
    <div class="row">
      <h2>Type of Booking</h2>
      <p name="serviceMsg">What kind of services {{isUserAdminORBookOfficer ? (bookingModel.bookable_type ==='IndividualClient' ? "does the client":"does the organization") :"do you"}} need? Select multiple if relevant</p>
      <section id="services">
        <button md-button class="active">
          <i class="icon-service-interpreting"></i>
          <span>Interpreting</span>
        </button>
        <button [disabled]='true' md-button>
          <i class="icon-service-vri"></i>
          <span>VRI</span>
        </button>
        <button [disabled]='true' md-button>
          <i class="icon-service-captioning"></i>
          <span>Captioining</span>
        </button>
        <button [disabled]='true' md-button>
          <i class="icon-service-captioning"></i>
          <span>Notetaking</span>
        </button>
      </section>
      <p name="interpreterMsg">What kind of interpreter(s) {{isUserAdminORBookOfficer ? (bookingModel.bookable_type ==='IndividualClient' ? "does the client":"does the organization") :"do you"}} need? Select multiple if relevant</p>
      <section id="interpreters-kind">
        <md-checkbox [checked]="true" [disabled]="isEditableForOrgRepIndClient">AUSLAN</md-checkbox>
        <md-checkbox [disabled]="isEditableForOrgRepIndClient">DEAF INTERPRETER</md-checkbox>
        <md-checkbox [disabled]="isEditableForOrgRepIndClient">DEAF BLIND</md-checkbox>
      </section>
    </div>
    <div class="separator"></div>
    <h4 class="text-center">BOOKING DETAILS</h4>
    <div class="row small-collapse">
      <div class="row-wrapper">
        <div class=" medium-7 columns">
          <div class="form-field">
            <label>START DATE & TIME *</label>
            <input type='datetime-local'
               [readonly]="isEditableForOrgRepIndClient"
               (change)="onStartTimeChanged()"
               name='dpEventDate'
               placeholder="DATE & Time OF APPOINTMENT *"
               (click)="fireNotification($event)"
               [(ngModel)]="bookingModel.venue.start_time_iso"
               required #dpEventDate="ngModel"/>
            <span *ngIf="dpEventDate.touched && !dpEventDate.errors?.required;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="dpEventDate.touched && (dpEventDate.errors?.required);"
                  class="inline-icon error">
              <span>Start Date is required</span>!
            </span>
          </div>
        </div>

        <div class="medium-5 columns">
          <div class="form-field">
            <label>END DATE & TIME *</label>
            <input type='datetime-local' name='dpEventEndTime' [readonly]="isEditableForOrgRepIndClient"
               placeholder="ENDING TIME *" #dpEventEndTime="ngModel" (click)="fireNotification($event)"
               [(ngModel)]="bookingModel.venue.end_time_iso"
               required/>
            <span *ngIf="dpEventEndTime.touched && !dpEventEndTime.errors?.required;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="dpEventEndTime.touched && (dpEventEndTime.errors?.required);"
                  class="inline-icon error">
              <span>End Date is required</span>!
            </span>
          </div>
        </div>
      </div>

      <div class="medium-12 columns">
        <div class="form-field">
          <label>SPECIFIC LOCATION
            <span mdTooltip="Enter Specific Location">
              <i class="inline-icon-tip"></i>
            </span>
          </label>
          <input type="text" placeholder="Enter the Specific Location"
                             [(ngModel)]="bookingModel.venue.title"
                             name="raw_venue_address" #raw_venue_address="ngModel">

        </div>
      </div>
      <app-address [address]="bookingModel.venue" [canEdit]="isEditableForOrgRepIndClient" #addressForm="ctAddressForm" ></app-address>
      <div class="row-wrapper">
        <div class="medium-6 columns">
          <div class="form-field">
            <label>NATURE OF APPOINTMENT *
              <span mdTooltip="Select nature of Appointment">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <select (change)="natureOfApptChange($event)"
                    [disabled]="isEditableForOrgRepIndClient"
                    [(ngModel)]="bookingModel.raw_nature_of_appointment" 
                    #nature_of_appointment="ngModel" name="nature_of_appointment"
                    aria-label="A" required>
              <option *ngFor="let item of appointment_types | enumVal " [value]="item.value">
              {{item.value.toUpperCase()}}
              </option>
            </select>
            <span *ngIf="nature_of_appointment.touched && !nature_of_appointment.errors?.required;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="nature_of_appointment.touched && (nature_of_appointment.errors?.required);"
                  class="inline-icon error">!
            </span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>WHAT WILL BE DISCUSSED *
              <span mdTooltip="Select specific nature of Appointment">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <select [(ngModel)]="bookingModel.specific_nature_of_appointment"
                   [disabled]="isEditableForOrgRepIndClient"
                   #specific_nature_of_appointment="ngModel" required 
                   name="specific_nature_of_appointment" aria-label="A">
              <option *ngFor="let item of specific_appointment_types | enumVal" [value]="item.value">
              {{item.value.toUpperCase()}}
              </option>
            </select>
            <span *ngIf="specific_nature_of_appointment.touched && !specific_nature_of_appointment.errors?.required;"
                   class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="specific_nature_of_appointment.touched && (specific_nature_of_appointment.errors?.required);"
                   class="inline-icon error">!
            </span>
          </div>
        </div>
        <div class="medium-4 columns">
          <div class="form-field">
            <label>REQUESTED BY FIRST NAME *
              <span mdTooltip="Enter the First Name">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="text" placeholder="Enter the Request By Name"
                               [readonly]="isEditableForOrgRepIndClient"
                               [(ngModel)]="bookingModel.requested_by.first_name"
                               name="raw_booking_requested_by" (click)="fireNotification($event)"
                               #raw_booking_requested_by="ngModel" [rangeLength]="[2,20]" required>
            <span *ngIf="raw_booking_requested_by.touched && !raw_booking_requested_by.errors?.required && !raw_booking_requested_by.errors?.rangeLength;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="raw_booking_requested_by.touched && (raw_booking_requested_by.errors?.required || raw_booking_requested_by.errors?.rangeLength);"
                  class="inline-icon error">
              <span>Minimum 2 characters required.</span>!
            </span>
          </div>
        </div>
        <div class="medium-4 columns">
          <div class="form-field">
            <label>REQUESTED BY LAST NAME *
              <span mdTooltip="Enter the Last Name">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="text"
                   placeholder="Enter the Request By Name"
                   [readonly]="isEditableForOrgRepIndClient"
                   [(ngModel)]="bookingModel.requested_by.last_name"
                   name="raw_booking_requested_by_ln"
                   (click)="fireNotification($event)"
                   #raw_booking_requested_by_ln="ngModel"
                   [rangeLength]="[2,20]" required>
            <span *ngIf="raw_booking_requested_by_ln.touched && !raw_booking_requested_by_ln.errors?.required && !raw_booking_requested_by_ln.errors?.rangeLength;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="raw_booking_requested_by_ln.touched && (raw_booking_requested_by_ln.errors?.required || raw_booking_requested_by_ln.errors?.rangeLength);"
                  class="inline-icon error">
              <span>Minimum 2 characters required.</span>!
            </span>
          </div>
        </div>
        <div class="medium-4 columns">
          <div class="form-field">
            <label>NUMBER OF PEOPLE ATTENDING *
              <span mdTooltip="Enter the Number of people attending the meeting">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input [(ngModel)]="bookingModel.venue.expected_attendance"
                   name="attendee_count"
                   #attendee_count="ngModel"
                   placeholder="Enter the Number of people attending the meeting"
                   type="tel" required digits>
            <span *ngIf="attendee_count.touched && !attendee_count.errors?.required && !attendee_count.errors?.digits;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="attendee_count.touched && (attendee_count.errors?.required || attendee_count.errors?.digits);"
                  class="inline-icon error">
              <span>Minimum 1 digit required.</span>!
            </span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>NUMB. OF INTERPRETERS NEEDED *
              <span mdTooltip="Enter the Number of Interpreters needed">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input [(ngModel)]="bookingModel.interpreters_required"
                   name="interpreters_count" [readonly]="isEditableForOrgRepIndClient"
                   #interpreters_count="ngModel"
                   placeholder="Enter the Number of Interpreters needed"
                   (click)="fireNotification($event)"
                   type="tel" required digits>
            <span *ngIf="interpreters_count.touched && !interpreters_count.errors?.required && !interpreters_count.errors?.digits;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="interpreters_count.touched && (interpreters_count.errors?.required || interpreters_count.errors?.digits);"
                  class="inline-icon error">
              <span>Minimum 1 digit required.</span>!
            </span>
            <span *ngIf="bookingModel.interpreters_required < 2  && isMoreInterpreterNeeded()"
                  class="inline-icon error">
              <span>You may require more than 1 interpreter for this booking.</span>!
            </span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>PARKING AVAILABILITY
              <span mdTooltip="Whats the parking option available!">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="text" name="parking_type" [(ngModel)]="bookingModel.venue.parking_type"/>
          </div>
        </div>
      </div>

      <div class="medium-12 columns">
        <div class="form-field">
          <label>NOTES
            <span mdTooltip="Any Important Notes">
              <i class="inline-icon-tip"></i>
            </span>
          </label>
          <textarea placeholder="Important Notes" name="important_notes" [(ngModel)]="bookingModel.notes"></textarea>
        </div>
      </div>
    </div>
    <ng-container *ngIf="isUserOrgRep()">
      <div class="separator"></div>

      <h4 class="text-center">SPECIAL INSTRUCTION</h4>
      <div class="row">
        <div class="medium-12 columns">
          <div class="form-field">
            <label>Do you want to use your standard special instructions?
              <span mdTooltip="Tooltip!">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <md-radio-group name="rdSpecialInstruction" [(ngModel)]="rdgSpecialInstruction" (change)='onSpecialInstruction()'>
              <md-radio-button value=true>YES</md-radio-button>
              <md-radio-button value=false>NO</md-radio-button>
            </md-radio-group>
          </div>
        </div>
        <div class="row-wrapper">
          <div class="medium-12 columns">
            <div class="form-field">
              <label>Special instructions
                <span mdTooltip="Enter Special instructions!">
                  <i class="inline-icon-tip"></i>
                </span>
              </label>
              <input [(ngModel)]="bookingModel.special_instructions"
                     name='txtSpecialInstruction'
                     [readonly]="isEditableForOrgRepIndClient"
                     (click)="fireNotification($event)"
                     type='text' placeholder="Enter Special instructions">
            </div>
          </div>
        </div>
      </div>
    </ng-container>
    <br>
    <div class="separator"></div>

    <h4 class="text-center">CONTACT DETAILS</h4>

    <div class="row">
      <div class="medium-12 columns">
        <div class="form-field">
          <label name="contactMsg">{{isUserAdminORBookOfficer ? "DO YOU WANT TO USE THE STANDARD": "ARE YOU THE"}} CONTACT PERSON FOR THIS BOOKING? *
            <span mdTooltip="Tooltip!">
              <i class="inline-icon-tip"></i>
            </span>
          </label>
          <md-radio-group name="rdcurrentUserIsContact" (change)='onSelectionChange()'
                          [(ngModel)]="currentUserIsContact">
            <md-radio-button value=true>YES</md-radio-button>
            <md-radio-button value=false>NO</md-radio-button>
          </md-radio-group>
        </div>
      </div>
      <div class="row-wrapper">
        <div class="medium-6 columns">
          <div class="form-field">
            <label>CONTACT FIRST NAME *
              <span mdTooltip="Enter Contact First Name">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input [readonly]='currentUserIsContact'
                   (click)="fireNotification($event)"
                   type="text"
                   placeholder="Enter Contact First Name"
                   [(ngModel)]="bookingModel.primaryContact.first_name"
                   name="contact_first_name"
                   #contact_first_name="ngModel"
                   [rangeLength]="[2,20]" required>
            <span *ngIf="contact_first_name.touched && !contact_first_name.errors?.required && !contact_first_name.errors?.rangeLength;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="contact_first_name.touched && (contact_first_name.errors?.required || contact_first_name.errors?.rangeLength);"
                  class="inline-icon error">
              <span>Minimum 2 character required.</span>!</span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>CONTACT LAST NAME
              <span mdTooltip="Enter Contact Last Name">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input [readonly]='currentUserIsContact'
                   type="text"
                   placeholder="Enter Contact Last Name"
                   [(ngModel)]="bookingModel.primaryContact.last_name"
                   name="contact_last_name"
                   (click)="fireNotification($event)"
                   #contact_last_name="ngModel" [rangeLength]="[2,20]" required>
            <span *ngIf="contact_last_name.touched && !contact_last_name.errors?.required && !contact_last_name.errors?.rangeLength;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="contact_last_name.touched && (contact_last_name.errors?.required || contact_last_name.errors?.rangeLength);"
                  class="inline-icon error">
              <span>Minimum 2 character required.</span>!
            </span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>CONTACT EMAIL *
              <span mdTooltip="Enter contact email address">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="email"
                   class="inline-icon-user-email"
                   id="email"
                   placeholder="Enter contact email address"
                   [(ngModel)]="bookingModel.primaryContact.email"
                   name="email"
                   #email="ngModel" email required>
            <span *ngIf="email.touched && !email.errors?.email && !email.errors?.required;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="(email.dirty || email.touched) && (email.errors?.required || email.errors?.email);"
                  class="inline-icon error">
              <span>Email is required</span>!
            </span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>CONTACT MOBILE
              <span mdTooltip="Enter Contact Mobile Number!">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="tel"
                   placeholder="Enter Contact Mobile Number"
                   [(ngModel)]="bookingModel.primaryContact.mobile_number"
                   name="mobile" [rangeLength]="[6,20]"
                   #mobile="ngModel">
            <span *ngIf="mobile.touched && !mobile.errors?.rangeLength;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="mobile.touched && mobile.errors?.rangeLength;" class="inline-icon error">
              <span>Minimum 6 digits required.</span>!
            </span>
          </div>
        </div>
      </div>
    </div>

    <div class="separator"></div>

    <h4 class="text-center">CLIENT DETAILS</h4>

    <div class="row">
      <div class="medium-12 columns">
        <div class="form-field">
          <label>ARE YOU THE CLIENT FOR THIS BOOKING? *
            <span mdTooltip="Tooltip!">
              <i class="inline-icon-tip"></i>
            </span>
          </label>
          <md-radio-group name="rdcurrentUserIsClient" (change)='onClientSelectionChange()' 
                          disabled="isEditableForOrgRepIndClient" [(ngModel)]="currentUserIsClient">
            <md-radio-button value=true>YES</md-radio-button>
            <md-radio-button value=false>NO</md-radio-button>
          </md-radio-group>
        </div>
      </div>
      <div class="row-wrapper">
        <div class="medium-3 columns">
          <div class="form-field">
            <label>EAF/NDISID
              <span mdTooltip="Enter deaf person EAF number!">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="tel"
                   placeholder="Enter deaf person EAF number"
                   [readonly]="isEditableForOrgRepIndClient"
                   [(ngModel)]="bookingModel.deaf_person.eaf"
                   name="deaf_person_eaf"
                   (click)="fireNotification($event)"
                   #deaf_person_eaf="ngModel">
          </div>
        </div>
        <div class="medium-9 columns">
          <div class="form-field">
            <label>DEAF PERSON'S EMAIL *
              <span mdTooltip="Enter deaf person name!">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="email"
                   class="inline-icon-user-email"
                   id="deaf_person_email"
                   placeholder="Enter deaf person email address"
                   [(ngModel)]="bookingModel.deaf_person.email"
                   name="deaf_person_email"
                   #deaf_person_email="ngModel"
                   email required>
            <span *ngIf="deaf_person_email.touched && !deaf_person_email.errors?.email && !deaf_person_email.errors?.required;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="(deaf_person_email.dirty || deaf_person_email.touched) && (deaf_person_email.errors?.required || deaf_person_email.errors?.email);"
                  class="inline-icon error">
              <span>Email is required</span>!
            </span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>DEAF PERSON'S FIRST NAME *
              <span mdTooltip="Enter deaf person first name">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="text"
                   placeholder="Enter deaf person first name"
                   [readonly]="isEditableForOrgRepIndClient"
                   [(ngModel)]="bookingModel.deaf_person.first_name"
                   name="deaf_person_name"
                   (click)="fireNotification($event)"
                   #deaf_person_name="ngModel"
                   [rangeLength]="[2,20]"
                   required>
            <span *ngIf="deaf_person_name.touched && !deaf_person_name.errors?.required && !deaf_person_name.errors?.rangeLength;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="deaf_person_name.touched && (deaf_person_name.errors?.required || deaf_person_name.errors?.rangeLength);"
                  class="inline-icon error">
              <span>Minimum 2 character required.</span>!
            </span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>DEAF PERSON'S LAST NAME *
              <span mdTooltip="Enter deaf person last name">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="text"
                   placeholder="Enter deaf person last name"
                   [readonly]="isEditableForOrgRepIndClient"
                   [(ngModel)]="bookingModel.deaf_person.last_name"
                   name="deaf_person_last_name"
                   (click)="fireNotification($event)"
                   #deaf_person_last_name="ngModel"
                   [rangeLength]="[2,20]"
                   required>
            <span *ngIf="deaf_person_last_name.touched && !deaf_person_last_name.errors?.required && !deaf_person_last_name.errors?.rangeLength;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="deaf_person_last_name.touched && (deaf_person_last_name.errors?.required || deaf_person_last_name.errors?.rangeLength);"
                  class="inline-icon error">
              <span>Minimum 2 character required.</span>!
            </span>
          </div>
        </div>


        <div class="medium-6 columns">
          <div class="form-field">
            <label>DEAF PERSON'S MOBILE
              <span mdTooltip="Enter deaf person Mobile Number">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="tel"
                   placeholder="Enter deaf person Mobile Number"
                   id="deaf_person_mobile"
                   [(ngModel)]="bookingModel.deaf_person.mobile_number"
                   name="deaf_person_mobile"
                   #deaf_person_mobile="ngModel"
                   digits [rangeLength]="[6,11]">
            <span *ngIf="deaf_person_mobile.touched && !deaf_person_mobile.errors?.rangeLength;"
                  class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="deaf_person_mobile.touched && deaf_person_mobile.errors?.rangeLength;"
                  class="inline-icon error">
              <span>Minimum 10 digits required.</span>!
            </span>
          </div>
        </div>
      </div>
    </div>

    <div class="separator"></div>

    <h4 class="text-center">INVOICE DETAILS</h4>
    <div class="row">
      <div class="medium-12 columns" *ngIf="isUserOrgRepORIndClientTemp() || isUserAdminORBookOfficer">
        <div class="form-field">
          <label name="invoiceMsg">Do you want to use standard invoice details{{isUserAdminORBookOfficer ? " for this booking": ""}}? *
            <span mdTooltip="Tooltip!">
              <i class="inline-icon-tip"></i>
            </span>
          </label>
          <md-radio-group name="rdStandardInvoice"[(ngModel)]="standardInvoice" (change)='onStandardInvoice()'
                          disabled="isEditableForOrgRepIndClient">
            <md-radio-button value=true>YES</md-radio-button>
            <md-radio-button value=false>NO</md-radio-button>
          </md-radio-group>
        </div>
      </div>
      <div class="row-wrapper">
        <div class="medium-12 columns" *ngIf="isNotIndClient()">
          <div class="form-field">
            <label>EXT. REFERENCE NUM
              <span mdTooltip="Enter External Reference Number!">
                <i class="inline-icon-tip"></i>
              </span>
            </label>
            <input type="tel" placeholder="Enter External Reference Number"
                              [(ngModel)]="bookingModel.client.organisation_billing_account.external_reference"
                              name="ext_ref_num">

          </div>
        </div>
        <div class="medium-12 columns">
          <div class="form-field">
            <app-billing-account #billingForm="ctBillingForm"
               [billingAddressIsSame]="standardInvoice" [parentForm]="booking_form"
               [billingAddress]="bookingModel.client.organisation_billing_account.organisation_billing_address"
               [primaryContact]="bookingModel.client.organisation_primary_contact"></app-billing-account>
          </div>
        </div>
      </div>
    </div>

    <div class="separator"></div>

    <h4 class="text-center">JOB DOCUMENTS</h4>
    <div class="row">
      <section class="file-uploader">
        <button md-button>
          <i class="icon-add-file"></i>
          <b>CHOOSE FILES TO UPLOAD</b>
          <input type="file" ng2FileSelect (change)="handleFileSelect($event)" [uploader]="uploader" name="uploader"/>
        </button>
      </section>
    </div>
    <br>
    <div class="row">
      <section id="job-documents">
        <section>
          <section *ngFor="let item of uploader.queue; let i = index ">
            <button name="{{'btnRemoveDocument_' + (i + 1)}}" (click)="removeDocuments(item)"
                    type="button"><i class="icon-close"></i></button>
            <i class="icon-attachment"></i>
            <span>{{ item?.file?.name }}</span>
          </section>
          <section *ngFor="let docItem of oldDocuments; let i = index ">
            <button name="{{'btnRemoveOldDoc_' + (i + 1)}}" (click)="confirmDelete(docItem.id)"
                    type="button"><i class="icon-close"></i></button> 
            <i class="icon-attachment"></i>
            <span><a download href="{{docItem.url}}">{{docItem.file_name}}</a></span>
          </section>
        </section>
      </section>
    </div>
    <br>
    <div class="separator"></div>

    <h4 class="text-center">Preferred interpreters</h4>

    <div class="row">
      <div class="medium-12 columns">
        <div class="form-field">
          <label>Do you have preferred interpreters for this booking? </label>
          <md-radio-group name="rdPreferredInterpreters" (change)='onPreferredSelectionChange()'
                          [(ngModel)]="showPreffered">
            <md-radio-button value=true>YES</md-radio-button>
            <md-radio-button value=false>NO</md-radio-button>
          </md-radio-group>
        </div>
      </div>
    </div>

    <div class="row" *ngIf="showPreffered === 'true'">
      <div class="medium-12 columns">
        <div class="form-field">
          <label>Do you want to set the preferred interpreters that you have set in your profile? </label>
          <md-radio-group name="rdProfilePreferredInterpreters" (change)='onProfilePreferredSelectionChange()'
                          [(ngModel)]="showProfilePreffered">
            <md-radio-button value=true>YES</md-radio-button>
            <md-radio-button value=false>NO</md-radio-button>
          </md-radio-group>
        </div>
      </div>
    </div>

    <app-interpreter-box *ngIf="showProfilePreffered === 'true'" [isPreffered]="true"
                          [isHidden]="true" [selectedInterpreters]="forEdit() ? oldInterpreterPreference : userModel.prefferedInterpreters">
    </app-interpreter-box> 

    <br>
    <div class="separator"></div>

    <h4 class="text-center">Blocked interpreters</h4>

    <div class="row">
      <div class="medium-12 columns">
        <div class="form-field">
          <label>Do you have blocked interpreters for this booking? </label>
          <md-radio-group name="rdBlockedInterpreters" (change)='onBlockedSelectionChange()'
                          [(ngModel)]="showBlocked">
            <md-radio-button value=true>YES</md-radio-button>
            <md-radio-button value=false>NO</md-radio-button>
          </md-radio-group>
        </div>
      </div>
    </div>

    <div class="row" *ngIf="showBlocked === 'true'">
      <div class="medium-12 columns">
        <div class="form-field">
          <label>Do you want to set the blocked interpreters that you have set in your profile? </label>
          <md-radio-group name="rdProfileBlockedInterpreters" (change)='onProfileBlockedSelectionChange()'
                          [(ngModel)]="showProfileBlocked">
            <md-radio-button value=true>YES</md-radio-button>
            <md-radio-button value=false>NO</md-radio-button>
          </md-radio-group>
        </div>
      </div>
    </div>

    <app-interpreter-box *ngIf="showProfileBlocked === 'true'" [isPreffered]="false"
                          [isHidden]="true" [selectedInterpreters]="forEdit() ? oldInterpreterPreference : userModel.prefferedInterpreters">
    </app-interpreter-box> 
    <div [hidden]='true'>
      <div class="separator"></div>

      <h4 class="text-center">BOOKING PREFERENCES</h4>
      <div class="row ext">
        <div class="form-field">
          <label>Do you have prefered interpreters?</label>
          <md-radio-group name="rdprefInterpreter" [(ngModel)]="prefInterpreter">
            <md-radio-button value="1">YES</md-radio-button>
            <md-radio-button [checked]='true' value="2">NO</md-radio-button>
          </md-radio-group>
        </div>
        <section id="booking-preferences">
          <section>
            <strong>PREFERED INTERPTRETER 2</strong>
            <img src="assets/img/dummy/interpreter.jpg" alt="">
            <span>Lisa Anderson With Very Long Name</span>
          </section>
          <button md-button ng-click="addInterpreter()">
            <i class="inline-icon-add-file"></i>
            ADD INTERPRETER
          </button>
        </section>
      </div>
    </div>

    <div class="row">
      <section>
        <app-termandcondition (termAndConditionStatusChange)="tocChanged($event)"
         [termsAndConditionAccepted]="termsAndConditionAccepted"></app-termandcondition>
      </section>
    </div>

    <div class="actions">
      <button name="btnCreateBooking" (click)="onCreateBooking(booking_form,addressForm,billingForm,uploader);">SAVE</button>
      <button name="btnCancelBooking" (click)="onCancelBooking();">CANCEL</button>
    </div>
  </form>

  </main>
</section>
