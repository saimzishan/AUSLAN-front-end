<main>
  <form class="common-form reduced-top">
    <div class="row small-collapse">
      <div class="row-wrapper">
        <div class="medium-6 columns">
          <div class="form-field">
            <label>FIRST NAME *	</label>

            <input type="text" class="inline-icon inline-icon-user-circle valid" placeholder="" [(ngModel)]="userModel.first_name" name="first_name" #first_name="ngModel" [rangeLength]="[3, 20]" required>
            <span *ngIf="first_name.touched && !first_name.errors?.required && !first_name.errors?.rangeLength;" class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="first_name.touched && (first_name.errors?.required || first_name.errors?.rangeLength);" class="inline-icon error">
                      <span>Minimum 3 characters required.</span>!</span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>LAST NAME *
            </label>

            <input type="text" class="inline-icon inline-icon-user-circle valid" placeholder="" [(ngModel)]="userModel.last_name" name="last_name" #last_name="ngModel" [rangeLength]="[3, 30]" required>
            <span *ngIf="last_name.touched && !last_name.errors?.required && !last_name.errors?.rangeLength;" class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="last_name.touched && (last_name.errors?.required || last_name.errors?.rangeLength);" class="inline-icon error">
                          <span>Minimum 3 characters required.</span>!</span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>EMAIL *
            </label>
            <input type="email" class="inline-icon-user-email" id="email" placeholder="Enter your email"
            [(ngModel)]="userModel.email" name="email" #email="ngModel" email required>
            <span *ngIf="email.touched && !email.errors?.email;" class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="(email.dirty || email.touched) && (email.errors?.required || email.errors?.email);" class="inline-icon error">
              <span>Email is required</span>!</span>
          </div>
        </div>
        <div class="medium-6 columns">
          <div class="form-field">
            <label>MOBILE * </label>
            <input type="tel" placeholder="" [(ngModel)]="userModel.mobile" name="mobile" #mobile="ngModel" required>
            <span *ngIf="mobile.touched && !mobile.errors?.required;" class="inline-icon inline-icon-valid valid"></span>
            <span *ngIf="mobile.touched && mobile.errors?.required;" class="inline-icon error">
                      <span>Minimum 6 digits required.</span>!</span>
          </div>
        </div>
        <div [hidden]='isNewUser || !userModel.verified' class="row small-collapse">
          <div class="form-field medium-6 columns">
            <label>STATUS</label>
            <md-select name="selStatus" placeholder="Status" [(ngModel)]="selectedStatus">
              <md-option *ngFor="let i of userStatusArray" [value]="i.name" >{{i.name}}</md-option>
            </md-select>
          </div>
          <div class="medium-6 columns"></div>
        </div>
      </div>
    </div>
    <div [hidden]='!selectedStatus || selectedStatus.length < 1'>
  		<md-dialog-actions>
  			<strong>Are you sure?</strong>
  			<section>
  				<button (click)="updateStatus(true)">Yes</button>
  				<button (click)="updateStatus(false)" class="red">No</button>
  			</section>
  		</md-dialog-actions>
  	</div>
    <section class="actions">
      <button name="edit_user" class="login button"
      [disabled]="last_name.errors ||first_name.errors  || email.errors || (isNewUser && (password.errors|| certainPassword.errors)) "
      (click)="applyChanges()"> 'SAVE' </button>
    </section>
  </form>
</main>
